{"ast":null,"code":"import _setDisplayName from 'recompose/setDisplayName';\nimport React, { memo, Component } from 'react';\nimport { boxAlignments, noop, alignBox, withTheme, withDimensions, Container, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect, degreesToRadians } from '@nivo/core';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport PropTypes from 'prop-types';\nimport { timeFormat } from 'd3-time-format';\nimport _pure from 'recompose/pure';\nimport _withPropsOnChange from 'recompose/withPropsOnChange';\nimport _defaultProps from 'recompose/defaultProps';\nimport _compose from 'recompose/compose';\nimport { scaleQuantize } from 'd3-scale';\nimport memoize from 'lodash.memoize';\nimport isDate from 'lodash.isdate';\nimport range from 'lodash.range';\nimport { timeWeek, timeYear, timeWeeks, timeDays, timeMonths } from 'd3-time';\nimport { BasicTooltip } from '@nivo/tooltip';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar monthLabelFormat = timeFormat('%b');\nvar commonPropTypes = {\n  from: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    day: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired\n  })).isRequired,\n  align: PropTypes.oneOf(boxAlignments).isRequired,\n  originX: PropTypes.number.isRequired,\n  originY: PropTypes.number.isRequired,\n  calendarWidth: PropTypes.number.isRequired,\n  calendarHeight: PropTypes.number.isRequired,\n  minValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n  maxValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n  colors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  colorScale: PropTypes.func.isRequired,\n  direction: PropTypes.oneOf(['horizontal', 'vertical']),\n  emptyColor: PropTypes.string.isRequired,\n  yearLegend: PropTypes.func.isRequired,\n  yearSpacing: PropTypes.number.isRequired,\n  yearLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n  yearLegendOffset: PropTypes.number.isRequired,\n  monthBorderWidth: PropTypes.number.isRequired,\n  monthBorderColor: PropTypes.string.isRequired,\n  monthLegend: PropTypes.func.isRequired,\n  monthLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n  monthLegendOffset: PropTypes.number.isRequired,\n  daySpacing: PropTypes.number.isRequired,\n  dayBorderWidth: PropTypes.number.isRequired,\n  dayBorderColor: PropTypes.string.isRequired,\n  isInteractive: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  legends: PropTypes.arrayOf(PropTypes.shape(_objectSpread({}, LegendPropShape, {\n    itemCount: PropTypes.number.isRequired\n  }))).isRequired\n};\nvar CalendarPropTypes = commonPropTypes;\n\nvar CalendarCanvasPropTypes = _objectSpread({}, commonPropTypes, {\n  pixelRatio: PropTypes.number.isRequired\n});\n\nvar commonDefaultProps = {\n  colors: ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560'],\n  align: 'center',\n  direction: 'horizontal',\n  emptyColor: '#fff',\n  minValue: 0,\n  maxValue: 'auto',\n  yearSpacing: 30,\n  yearLegend: function yearLegend(year) {\n    return year;\n  },\n  yearLegendPosition: 'before',\n  yearLegendOffset: 10,\n  monthBorderWidth: 2,\n  monthBorderColor: '#000',\n  monthLegend: function monthLegend(year, month, date) {\n    return monthLabelFormat(date);\n  },\n  monthLegendPosition: 'before',\n  monthLegendOffset: 10,\n  weekdayLegend: function weekdayLegend(d) {\n    return d;\n  },\n  daySpacing: 0,\n  dayBorderWidth: 1,\n  dayBorderColor: '#000',\n  isInteractive: true,\n  onClick: noop,\n  legends: []\n};\nvar CalendarDefaultProps = commonDefaultProps;\n\nvar CalendarCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar computeDomain = function computeDomain(data, minSpec, maxSpec) {\n  var allValues = data.map(function (d) {\n    return d.value;\n  });\n  var minValue = minSpec === 'auto' ? Math.min.apply(Math, _toConsumableArray(allValues)) : minSpec;\n  var maxValue = maxSpec === 'auto' ? Math.max.apply(Math, _toConsumableArray(allValues)) : maxSpec;\n  return [minValue, maxValue];\n};\n\nvar computeCellSize = function computeCellSize(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      direction = _ref.direction,\n      yearRange = _ref.yearRange,\n      yearSpacing = _ref.yearSpacing,\n      daySpacing = _ref.daySpacing,\n      maxWeeks = _ref.maxWeeks;\n  var hCellSize;\n  var vCellSize;\n\n  if (direction === 'horizontal') {\n    hCellSize = (width - daySpacing * maxWeeks) / maxWeeks;\n    vCellSize = (height - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) / (yearRange.length * 7);\n  } else {\n    hCellSize = (width - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) / (yearRange.length * 7);\n    vCellSize = (height - daySpacing * maxWeeks) / maxWeeks;\n  }\n\n  return Math.min(hCellSize, vCellSize);\n};\n\nvar monthPathAndBBox = function monthPathAndBBox(_ref2) {\n  var date = _ref2.date,\n      cellSize = _ref2.cellSize,\n      yearIndex = _ref2.yearIndex,\n      yearSpacing = _ref2.yearSpacing,\n      daySpacing = _ref2.daySpacing,\n      direction = _ref2.direction,\n      originX = _ref2.originX,\n      originY = _ref2.originY;\n  var t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n  var firstWeek = timeWeek.count(timeYear(date), date);\n  var lastWeek = timeWeek.count(timeYear(t1), t1);\n  var firstDay = date.getDay();\n  var lastDay = t1.getDay();\n  var xO = originX;\n  var yO = originY;\n  var yearOffset = yearIndex * (7 * (cellSize + daySpacing) + yearSpacing);\n\n  if (direction === 'horizontal') {\n    yO += yearOffset;\n  } else {\n    xO += yearOffset;\n  }\n\n  var path;\n  var bbox = {\n    x: xO,\n    y: yO,\n    width: 0,\n    height: 0\n  };\n\n  if (direction === 'horizontal') {\n    path = [\"M\".concat(xO + (firstWeek + 1) * (cellSize + daySpacing), \",\").concat(yO + firstDay * (cellSize + daySpacing)), \"H\".concat(xO + firstWeek * (cellSize + daySpacing), \"V\").concat(yO + 7 * (cellSize + daySpacing)), \"H\".concat(xO + lastWeek * (cellSize + daySpacing), \"V\").concat(yO + (lastDay + 1) * (cellSize + daySpacing)), \"H\".concat(xO + (lastWeek + 1) * (cellSize + daySpacing), \"V\").concat(yO), \"H\".concat(xO + (firstWeek + 1) * (cellSize + daySpacing), \"Z\")].join('');\n    bbox.x = xO + firstWeek * (cellSize + daySpacing);\n    bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x;\n    bbox.height = 7 * (cellSize + daySpacing);\n  } else {\n    path = [\"M\".concat(xO + firstDay * (cellSize + daySpacing), \",\").concat(yO + (firstWeek + 1) * (cellSize + daySpacing)), \"H\".concat(xO, \"V\").concat(yO + (lastWeek + 1) * (cellSize + daySpacing)), \"H\".concat(xO + (lastDay + 1) * (cellSize + daySpacing), \"V\").concat(yO + lastWeek * (cellSize + daySpacing)), \"H\".concat(xO + 7 * (cellSize + daySpacing), \"V\").concat(yO + firstWeek * (cellSize + daySpacing)), \"H\".concat(xO + firstDay * (cellSize + daySpacing), \"Z\")].join('');\n    bbox.y = yO + firstWeek * (cellSize + daySpacing);\n    bbox.width = 7 * (cellSize + daySpacing);\n    bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y;\n  }\n\n  return {\n    path: path,\n    bbox: bbox\n  };\n};\n\nvar memoMonthPathAndBBox = memoize(monthPathAndBBox, function (_ref3) {\n  var date = _ref3.date,\n      cellSize = _ref3.cellSize,\n      yearIndex = _ref3.yearIndex,\n      yearSpacing = _ref3.yearSpacing,\n      daySpacing = _ref3.daySpacing,\n      direction = _ref3.direction,\n      originX = _ref3.originX,\n      originY = _ref3.originY;\n  return \"\".concat(date.toString(), \".\").concat(cellSize, \".\").concat(yearIndex, \".\").concat(yearSpacing, \".\").concat(daySpacing, \".\").concat(direction, \".\").concat(originX, \".\").concat(originY);\n});\n\nvar cellPositionHorizontal = function cellPositionHorizontal(cellSize, yearSpacing, daySpacing) {\n  return function (originX, originY, d, yearIndex) {\n    var weekOfYear = timeWeek.count(timeYear(d), d);\n    return {\n      x: originX + weekOfYear * (cellSize + daySpacing) + daySpacing / 2,\n      y: originY + d.getDay() * (cellSize + daySpacing) + daySpacing / 2 + yearIndex * (yearSpacing + 7 * (cellSize + daySpacing))\n    };\n  };\n};\n\nvar cellPositionVertical = function cellPositionVertical(cellSize, yearSpacing, daySpacing) {\n  return function (originX, originY, d, yearIndex) {\n    var weekOfYear = timeWeek.count(timeYear(d), d);\n    return {\n      x: originX + d.getDay() * (cellSize + daySpacing) + daySpacing / 2 + yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n      y: originY + weekOfYear * (cellSize + daySpacing) + daySpacing / 2\n    };\n  };\n};\n\nvar dayFormat = timeFormat('%Y-%m-%d');\n\nvar computeLayout = function computeLayout(_ref4) {\n  var width = _ref4.width,\n      height = _ref4.height,\n      from = _ref4.from,\n      to = _ref4.to,\n      direction = _ref4.direction,\n      yearSpacing = _ref4.yearSpacing,\n      daySpacing = _ref4.daySpacing,\n      align = _ref4.align;\n  var fromDate = isDate(from) ? from : new Date(from);\n  var toDate = isDate(to) ? to : new Date(to);\n  var yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1);\n  var maxWeeks = Math.max.apply(Math, _toConsumableArray(yearRange.map(function (year) {\n    return timeWeeks(new Date(year, 0, 1), new Date(year + 1, 0, 1)).length;\n  }))) + 1;\n  var cellSize = computeCellSize({\n    width: width,\n    height: height,\n    direction: direction,\n    yearRange: yearRange,\n    yearSpacing: yearSpacing,\n    daySpacing: daySpacing,\n    maxWeeks: maxWeeks\n  });\n  var monthsSize = cellSize * maxWeeks + daySpacing * maxWeeks;\n  var yearsSize = (cellSize + daySpacing) * 7 * yearRange.length + yearSpacing * (yearRange.length - 1);\n  var calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize;\n  var calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize;\n\n  var _alignBox = alignBox({\n    x: 0,\n    y: 0,\n    width: calendarWidth,\n    height: calendarHeight\n  }, {\n    x: 0,\n    y: 0,\n    width: width,\n    height: height\n  }, align),\n      _alignBox2 = _slicedToArray(_alignBox, 2),\n      originX = _alignBox2[0],\n      originY = _alignBox2[1];\n\n  var cellPosition;\n\n  if (direction === 'horizontal') {\n    cellPosition = cellPositionHorizontal(cellSize, yearSpacing, daySpacing);\n  } else {\n    cellPosition = cellPositionVertical(cellSize, yearSpacing, daySpacing);\n  }\n\n  var years = [];\n  var months = [];\n  var days = [];\n  yearRange.forEach(function (year, i) {\n    var yearStart = new Date(year, 0, 1);\n    var yearEnd = new Date(year + 1, 0, 1);\n    days = days.concat(timeDays(yearStart, yearEnd).map(function (dayDate) {\n      return _objectSpread$1({\n        date: dayDate,\n        day: dayFormat(dayDate),\n        size: cellSize\n      }, cellPosition(originX, originY, dayDate, i));\n    }));\n    var yearMonths = timeMonths(yearStart, yearEnd).map(function (monthDate) {\n      return _objectSpread$1({\n        date: monthDate,\n        year: monthDate.getFullYear(),\n        month: monthDate.getMonth()\n      }, memoMonthPathAndBBox({\n        originX: originX,\n        originY: originY,\n        date: monthDate,\n        direction: direction,\n        yearIndex: i,\n        yearSpacing: yearSpacing,\n        daySpacing: daySpacing,\n        cellSize: cellSize\n      }));\n    });\n    months = months.concat(yearMonths);\n    years.push({\n      year: year,\n      bbox: {\n        x: yearMonths[0].bbox.x,\n        y: yearMonths[0].bbox.y,\n        width: yearMonths[11].bbox.x - yearMonths[0].bbox.x + yearMonths[11].bbox.width,\n        height: yearMonths[11].bbox.y - yearMonths[0].bbox.y + yearMonths[11].bbox.height\n      }\n    });\n  });\n  return {\n    years: years,\n    months: months,\n    days: days,\n    cellSize: cellSize,\n    calendarWidth: calendarWidth,\n    calendarHeight: calendarHeight,\n    originX: originX,\n    originY: originY\n  };\n};\n\nvar bindDaysData = function bindDaysData(_ref5) {\n  var days = _ref5.days,\n      data = _ref5.data,\n      colorScale = _ref5.colorScale,\n      emptyColor = _ref5.emptyColor;\n  return days.map(function (day) {\n    day.color = emptyColor;\n    data.forEach(function (dayData) {\n      if (dayData.day === day.day) {\n        day.value = dayData.value;\n        day.color = colorScale(dayData.value);\n        day.data = dayData;\n      }\n    });\n    return day;\n  });\n};\n\nvar computeYearLegendPositions = function computeYearLegendPositions(_ref6) {\n  var years = _ref6.years,\n      direction = _ref6.direction,\n      position = _ref6.position,\n      offset = _ref6.offset;\n  return years.map(function (year) {\n    var x = 0;\n    var y = 0;\n    var rotation = 0;\n\n    if (direction === 'horizontal' && position === 'before') {\n      x = year.bbox.x - offset;\n      y = year.bbox.y + year.bbox.height / 2;\n      rotation = -90;\n    } else if (direction === 'horizontal' && position === 'after') {\n      x = year.bbox.x + year.bbox.width + offset;\n      y = year.bbox.y + year.bbox.height / 2;\n      rotation = -90;\n    } else if (direction === 'vertical' && position === 'before') {\n      x = year.bbox.x + year.bbox.width / 2;\n      y = year.bbox.y - offset;\n    } else {\n      x = year.bbox.x + year.bbox.width / 2;\n      y = year.bbox.y + year.bbox.height + offset;\n    }\n\n    return _objectSpread$1({}, year, {\n      x: x,\n      y: y,\n      rotation: rotation\n    });\n  });\n};\n\nvar computeMonthLegendPositions = function computeMonthLegendPositions(_ref7) {\n  var months = _ref7.months,\n      direction = _ref7.direction,\n      position = _ref7.position,\n      offset = _ref7.offset;\n  return months.map(function (month) {\n    var x = 0;\n    var y = 0;\n    var rotation = 0;\n\n    if (direction === 'horizontal' && position === 'before') {\n      x = month.bbox.x + month.bbox.width / 2;\n      y = month.bbox.y - offset;\n    } else if (direction === 'horizontal' && position === 'after') {\n      x = month.bbox.x + month.bbox.width / 2;\n      y = month.bbox.y + month.bbox.height + offset;\n    } else if (direction === 'vertical' && position === 'before') {\n      x = month.bbox.x - offset;\n      y = month.bbox.y + month.bbox.height / 2;\n      rotation = -90;\n    } else {\n      x = month.bbox.x + month.bbox.width + offset;\n      y = month.bbox.y + month.bbox.height / 2;\n      rotation = -90;\n    }\n\n    return _objectSpread$1({}, month, {\n      x: x,\n      y: y,\n      rotation: rotation\n    });\n  });\n};\n\nvar commonEnhancers = [withTheme(), withDimensions(), _withPropsOnChange(['data', 'minValue', 'maxValue', 'colors', 'colorScale'], function (_ref) {\n  var data = _ref.data,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      colors = _ref.colors,\n      colorScale = _ref.colorScale;\n  if (colorScale) return {\n    colorScale: colorScale\n  };\n  var domain = computeDomain(data, minValue, maxValue);\n  var defaultColorScale = scaleQuantize().domain(domain).range(colors);\n  return {\n    colorScale: defaultColorScale\n  };\n}), _withPropsOnChange(['width', 'height', 'from', 'to', 'direction', 'yearSpacing', 'daySpacing', 'align'], function (_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      from = _ref2.from,\n      to = _ref2.to,\n      direction = _ref2.direction,\n      yearSpacing = _ref2.yearSpacing,\n      daySpacing = _ref2.daySpacing,\n      align = _ref2.align;\n  return computeLayout({\n    width: width,\n    height: height,\n    from: from,\n    to: to,\n    direction: direction,\n    yearSpacing: yearSpacing,\n    daySpacing: daySpacing,\n    align: align\n  });\n}), _withPropsOnChange(['years', 'direction', 'yearLegendPosition', 'yearLegendOffset'], function (_ref3) {\n  var years = _ref3.years,\n      direction = _ref3.direction,\n      yearLegendPosition = _ref3.yearLegendPosition,\n      yearLegendOffset = _ref3.yearLegendOffset;\n  return {\n    yearLegends: computeYearLegendPositions({\n      years: years,\n      direction: direction,\n      position: yearLegendPosition,\n      offset: yearLegendOffset\n    })\n  };\n}), _withPropsOnChange(['months', 'direction', 'monthLegendPosition', 'monthLegendOffset'], function (_ref4) {\n  var months = _ref4.months,\n      direction = _ref4.direction,\n      monthLegendPosition = _ref4.monthLegendPosition,\n      monthLegendOffset = _ref4.monthLegendOffset;\n  return {\n    monthLegends: computeMonthLegendPositions({\n      months: months,\n      direction: direction,\n      position: monthLegendPosition,\n      offset: monthLegendOffset\n    })\n  };\n}), _withPropsOnChange(['days', 'data', 'colorScale', 'emptyColor'], function (_ref5) {\n  var days = _ref5.days,\n      data = _ref5.data,\n      colorScale = _ref5.colorScale,\n      emptyColor = _ref5.emptyColor;\n  return {\n    days: bindDaysData({\n      days: days,\n      data: data,\n      colorScale: colorScale,\n      emptyColor: emptyColor\n    })\n  };\n})];\n\nvar enhance = function (Component) {\n  switch (Component.displayName) {\n    case 'Calendar':\n      return _compose.apply(void 0, [_defaultProps(CalendarDefaultProps)].concat(commonEnhancers, [_pure]))(Component);\n\n    case 'CalendarCanvas':\n      return _compose.apply(void 0, [_defaultProps(CalendarCanvasDefaultProps)].concat(commonEnhancers, [_pure]))(Component);\n  }\n\n  return Component;\n};\n\nvar CalendarYearLegends = memo(function (_ref) {\n  var years = _ref.years,\n      legend = _ref.legend,\n      theme = _ref.theme;\n  return React.createElement(React.Fragment, null, years.map(function (year) {\n    return React.createElement(\"text\", {\n      key: year.year,\n      transform: \"translate(\".concat(year.x, \",\").concat(year.y, \") rotate(\").concat(year.rotation, \")\"),\n      textAnchor: \"middle\",\n      style: theme.labels.text\n    }, legend(year.year));\n  }));\n});\nCalendarYearLegends.propTypes = {\n  years: PropTypes.array.isRequired,\n  legend: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired\n};\nCalendarYearLegends.displayName = 'CalendarYearLegends';\n\nvar CalendarMonthPath = function CalendarMonthPath(_ref) {\n  var path = _ref.path,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor;\n  return React.createElement(\"path\", {\n    d: path,\n    style: {\n      fill: 'none',\n      strokeWidth: borderWidth,\n      stroke: borderColor,\n      pointerEvents: 'none'\n    }\n  });\n};\n\nCalendarMonthPath.propTypes = {\n  path: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired\n};\n\nvar CalendarMonthPath$1 = _pure(CalendarMonthPath);\n\nvar CalendarMonthLegends = memo(function (_ref) {\n  var months = _ref.months,\n      legend = _ref.legend,\n      theme = _ref.theme;\n  return React.createElement(React.Fragment, null, months.map(function (month) {\n    return React.createElement(\"text\", {\n      key: \"\".concat(month.date.toString(), \".legend\"),\n      transform: \"translate(\".concat(month.x, \",\").concat(month.y, \") rotate(\").concat(month.rotation, \")\"),\n      textAnchor: \"middle\",\n      style: theme.labels.text\n    }, legend(month.year, month.month, month.date));\n  }));\n});\nCalendarMonthLegends.propTypes = {\n  months: PropTypes.array.isRequired,\n  legend: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired\n};\nCalendarMonthLegends.displayName = 'CalendarMonthLegends';\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CalendarDay = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      spacing = _ref.spacing,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      onClick = _ref.onClick,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip;\n  return React.createElement(React.Fragment, null, React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    width: size,\n    height: size,\n    style: {\n      fill: color,\n      strokeWidth: borderWidth,\n      stroke: borderColor\n    }\n  }), React.createElement(\"rect\", {\n    fill: \"rgba(0, 0, 0, 0)\",\n    x: x - spacing / 2,\n    y: y - spacing / 2,\n    width: size + spacing,\n    height: size + spacing,\n    onClick: onClick,\n    onMouseEnter: showTooltip,\n    onMouseMove: showTooltip,\n    onMouseLeave: hideTooltip\n  }));\n});\nCalendarDay.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  spacing: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  theme: PropTypes.shape({\n    tooltip: PropTypes.shape({}).isRequired\n  }).isRequired\n};\nCalendarDay.displayName = 'CalendarDay';\n\nvar enhance$1 = _compose(_withPropsOnChange(['data', 'onClick'], function (_ref2) {\n  var data = _ref2.data,\n      _onClick = _ref2.onClick;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(data, event);\n    }\n  };\n}), _withPropsOnChange(['data', 'color', 'showTooltip', 'tooltipFormat', 'tooltip', 'theme'], function (_ref3) {\n  var data = _ref3.data,\n      color = _ref3.color,\n      _showTooltip = _ref3.showTooltip,\n      tooltipFormat = _ref3.tooltipFormat,\n      tooltip = _ref3.tooltip,\n      theme = _ref3.theme;\n  if (data.value === undefined) return {\n    showTooltip: noop\n  };\n  return {\n    showTooltip: function showTooltip(event) {\n      return _showTooltip(React.createElement(BasicTooltip, {\n        id: \"\".concat(data.day),\n        value: data.value,\n        enableChip: true,\n        color: color,\n        theme: theme,\n        format: tooltipFormat,\n        renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread$2({\n          color: color\n        }, data)) : null\n      }), event);\n    }\n  };\n}), _pure);\n\nvar CalendarDay$1 = enhance$1(CalendarDay);\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Calendar = function Calendar(_ref) {\n  var colorScale = _ref.colorScale,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      yearLegends = _ref.yearLegends,\n      yearLegend = _ref.yearLegend,\n      monthLegends = _ref.monthLegends,\n      monthLegend = _ref.monthLegend,\n      monthBorderWidth = _ref.monthBorderWidth,\n      monthBorderColor = _ref.monthBorderColor,\n      daySpacing = _ref.daySpacing,\n      dayBorderWidth = _ref.dayBorderWidth,\n      dayBorderColor = _ref.dayBorderColor,\n      theme = _ref.theme,\n      isInteractive = _ref.isInteractive,\n      tooltipFormat = _ref.tooltipFormat,\n      tooltip = _ref.tooltip,\n      onClick = _ref.onClick,\n      legends = _ref.legends,\n      months = _ref.months,\n      days = _ref.days;\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: false\n  }, function (_ref2) {\n    var showTooltip = _ref2.showTooltip,\n        hideTooltip = _ref2.hideTooltip;\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      theme: theme\n    }, days.map(function (d) {\n      return React.createElement(CalendarDay$1, {\n        key: d.date.toString(),\n        data: d,\n        x: d.x,\n        y: d.y,\n        size: d.size,\n        spacing: daySpacing,\n        color: d.color,\n        borderWidth: dayBorderWidth,\n        borderColor: dayBorderColor,\n        showTooltip: showTooltip,\n        hideTooltip: hideTooltip,\n        tooltipFormat: tooltipFormat,\n        tooltip: tooltip,\n        theme: theme,\n        onClick: onClick\n      });\n    }), months.map(function (m) {\n      return React.createElement(CalendarMonthPath$1, {\n        key: m.date.toString(),\n        path: m.path,\n        borderWidth: monthBorderWidth,\n        borderColor: monthBorderColor\n      });\n    }), React.createElement(CalendarMonthLegends, {\n      months: monthLegends,\n      legend: monthLegend,\n      theme: theme\n    }), React.createElement(CalendarYearLegends, {\n      years: yearLegends,\n      legend: yearLegend,\n      theme: theme\n    }), legends.map(function (legend, i) {\n      var legendData = colorScale.ticks(legend.itemCount).map(function (value) {\n        return {\n          id: value,\n          label: value,\n          color: colorScale(value)\n        };\n      });\n      return React.createElement(BoxLegendSvg, _extends({\n        key: i\n      }, legend, {\n        containerWidth: width,\n        containerHeight: height,\n        data: legendData,\n        theme: theme\n      }));\n    }));\n  });\n};\n\nCalendar.displayName = 'Calendar';\nCalendar.propTypes = CalendarPropTypes;\n\nvar Calendar$1 = _setDisplayName('Calendar')(enhance(Calendar));\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nvar ResponsiveCalendar = function ResponsiveCalendar(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Calendar$1, _extends$1({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar findDayUnderCursor = function findDayUnderCursor(days, size, spacing, margin, x, y) {\n  return days.find(function (day) {\n    return day.value !== undefined && isCursorInRect(day.x + margin.left - spacing / 2, day.y + margin.top - spacing / 2, size + spacing, size + spacing, x, y);\n  });\n};\n\nvar CalendarCanvas = function (_Component) {\n  _inherits(CalendarCanvas, _Component);\n\n  function CalendarCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CalendarCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CalendarCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseHover\", function (showTooltip, hideTooltip) {\n      return function (event) {\n        var _this$props = _this.props,\n            isInteractive = _this$props.isInteractive,\n            margin = _this$props.margin,\n            theme = _this$props.theme,\n            days = _this$props.days,\n            daySpacing = _this$props.daySpacing,\n            tooltipFormat = _this$props.tooltipFormat,\n            tooltip = _this$props.tooltip;\n        if (!isInteractive || !days || days.length === 0) return;\n\n        var _getRelativeCursor = getRelativeCursor(_this.surface, event),\n            _getRelativeCursor2 = _slicedToArray$1(_getRelativeCursor, 2),\n            x = _getRelativeCursor2[0],\n            y = _getRelativeCursor2[1];\n\n        var currentDay = findDayUnderCursor(days, days[0].size, daySpacing, margin, x, y);\n\n        if (currentDay !== undefined) {\n          showTooltip(React.createElement(BasicTooltip, {\n            id: \"\".concat(currentDay.day),\n            value: currentDay.value,\n            enableChip: true,\n            color: currentDay.color,\n            theme: theme,\n            format: tooltipFormat,\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, currentDay) : null\n          }), event);\n        } else {\n          hideTooltip();\n        }\n      };\n    });\n\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseLeave\", function (hideTooltip) {\n      return function () {\n        if (_this.props.isInteractive !== true) return;\n        hideTooltip();\n      };\n    });\n\n    _defineProperty$3(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      var _this$props2 = _this.props,\n          isInteractive = _this$props2.isInteractive,\n          margin = _this$props2.margin,\n          onClick = _this$props2.onClick,\n          days = _this$props2.days,\n          daySpacing = _this$props2.daySpacing;\n      if (!isInteractive || !days || days.length === 0) return;\n\n      var _getRelativeCursor3 = getRelativeCursor(_this.surface, event),\n          _getRelativeCursor4 = _slicedToArray$1(_getRelativeCursor3, 2),\n          x = _getRelativeCursor4[0],\n          y = _getRelativeCursor4[1];\n\n      var currentDay = findDayUnderCursor(days, days[0].size, daySpacing, margin, x, y);\n      if (currentDay !== undefined) onClick(currentDay, event);\n    });\n\n    return _this;\n  }\n\n  _createClass(CalendarCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(props) {\n      if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\n        return true;\n      } else {\n        this.draw(props);\n        return false;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(props) {\n      var _this2 = this;\n\n      var pixelRatio = props.pixelRatio,\n          margin = props.margin,\n          width = props.width,\n          height = props.height,\n          outerWidth = props.outerWidth,\n          outerHeight = props.outerHeight,\n          colorScale = props.colorScale,\n          yearLegends = props.yearLegends,\n          yearLegend = props.yearLegend,\n          monthLegends = props.monthLegends,\n          monthLegend = props.monthLegend,\n          days = props.days,\n          dayBorderWidth = props.dayBorderWidth,\n          dayBorderColor = props.dayBorderColor,\n          legends = props.legends,\n          theme = props.theme;\n      this.surface.width = outerWidth * pixelRatio;\n      this.surface.height = outerHeight * pixelRatio;\n      this.ctx.scale(pixelRatio, pixelRatio);\n      this.ctx.fillStyle = theme.background;\n      this.ctx.fillRect(0, 0, outerWidth, outerHeight);\n      this.ctx.translate(margin.left, margin.top);\n      days.forEach(function (day) {\n        _this2.ctx.fillStyle = day.color;\n\n        if (dayBorderWidth > 0) {\n          _this2.ctx.strokeStyle = dayBorderColor;\n          _this2.ctx.lineWidth = dayBorderWidth;\n        }\n\n        _this2.ctx.beginPath();\n\n        _this2.ctx.rect(day.x, day.y, day.size, day.size);\n\n        _this2.ctx.fill();\n\n        if (dayBorderWidth > 0) {\n          _this2.ctx.stroke();\n        }\n      });\n      this.ctx.textAlign = 'center';\n      this.ctx.textBaseline = 'middle';\n      this.ctx.fillStyle = theme.labels.text.fill;\n      this.ctx.font = \"\".concat(theme.labels.text.fontSize, \"px \").concat(theme.labels.text.fontFamily);\n      monthLegends.forEach(function (month) {\n        _this2.ctx.save();\n\n        _this2.ctx.translate(month.x, month.y);\n\n        _this2.ctx.rotate(degreesToRadians(month.rotation));\n\n        _this2.ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0);\n\n        _this2.ctx.restore();\n      });\n      yearLegends.forEach(function (year) {\n        _this2.ctx.save();\n\n        _this2.ctx.translate(year.x, year.y);\n\n        _this2.ctx.rotate(degreesToRadians(year.rotation));\n\n        _this2.ctx.fillText(yearLegend(year.year), 0, 0);\n\n        _this2.ctx.restore();\n      });\n      legends.forEach(function (legend) {\n        var legendData = colorScale.ticks(legend.itemCount).map(function (value) {\n          return {\n            id: value,\n            label: value,\n            color: colorScale(value)\n          };\n        });\n        renderLegendToCanvas(_this2.ctx, _objectSpread$3({}, legend, {\n          data: legendData,\n          containerWidth: width,\n          containerHeight: height,\n          theme: theme\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          outerWidth = _this$props3.outerWidth,\n          outerHeight = _this$props3.outerHeight,\n          pixelRatio = _this$props3.pixelRatio,\n          isInteractive = _this$props3.isInteractive,\n          theme = _this$props3.theme;\n      return React.createElement(Container, {\n        isInteractive: isInteractive,\n        theme: theme,\n        animate: false\n      }, function (_ref) {\n        var showTooltip = _ref.showTooltip,\n            hideTooltip = _ref.hideTooltip;\n        return React.createElement(\"canvas\", {\n          ref: function ref(surface) {\n            _this3.surface = surface;\n          },\n          width: outerWidth * pixelRatio,\n          height: outerHeight * pixelRatio,\n          style: {\n            width: outerWidth,\n            height: outerHeight\n          },\n          onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseLeave: _this3.handleMouseLeave(hideTooltip),\n          onClick: _this3.handleClick\n        });\n      });\n    }\n  }]);\n\n  return CalendarCanvas;\n}(Component);\n\n_defineProperty$3(CalendarCanvas, \"propTypes\", CalendarCanvasPropTypes);\n\nCalendarCanvas.displayName = 'CalendarCanvas';\n\nvar CalendarCanvas$1 = _setDisplayName(CalendarCanvas.displayName)(enhance(CalendarCanvas));\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar ResponsiveCalendarCanvas = function ResponsiveCalendarCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(CalendarCanvas$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Calendar$1 as Calendar, CalendarCanvas$1 as CalendarCanvas, CalendarCanvasDefaultProps, CalendarCanvasPropTypes, CalendarDefaultProps, CalendarPropTypes, ResponsiveCalendar, ResponsiveCalendarCanvas };","map":{"version":3,"sources":["c:/Users/lawre_5pc0p1c/Documents/Coding/futureproof/week10/habit/node_modules/@nivo/calendar/dist/nivo-calendar.esm.js"],"names":["_setDisplayName","React","memo","Component","boxAlignments","noop","alignBox","withTheme","withDimensions","Container","SvgWrapper","ResponsiveWrapper","getRelativeCursor","isCursorInRect","degreesToRadians","LegendPropShape","BoxLegendSvg","renderLegendToCanvas","PropTypes","timeFormat","_pure","_withPropsOnChange","_defaultProps","_compose","scaleQuantize","memoize","isDate","range","timeWeek","timeYear","timeWeeks","timeDays","timeMonths","BasicTooltip","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","monthLabelFormat","commonPropTypes","from","oneOfType","string","instanceOf","Date","isRequired","to","data","arrayOf","shape","day","number","align","oneOf","originX","originY","calendarWidth","calendarHeight","minValue","maxValue","colors","colorScale","func","direction","emptyColor","yearLegend","yearSpacing","yearLegendPosition","yearLegendOffset","monthBorderWidth","monthBorderColor","monthLegend","monthLegendPosition","monthLegendOffset","daySpacing","dayBorderWidth","dayBorderColor","isInteractive","bool","onClick","tooltipFormat","tooltip","legends","itemCount","CalendarPropTypes","CalendarCanvasPropTypes","pixelRatio","commonDefaultProps","year","month","date","weekdayLegend","d","CalendarDefaultProps","CalendarCanvasDefaultProps","global","window","devicePixelRatio","_objectSpread$1","_defineProperty$1","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","arr2","computeDomain","minSpec","maxSpec","allValues","map","Math","min","apply","max","computeCellSize","_ref","width","height","yearRange","maxWeeks","hCellSize","vCellSize","monthPathAndBBox","_ref2","cellSize","yearIndex","t1","getFullYear","getMonth","firstWeek","count","lastWeek","firstDay","getDay","lastDay","xO","yO","yearOffset","path","bbox","x","y","join","memoMonthPathAndBBox","_ref3","cellPositionHorizontal","weekOfYear","cellPositionVertical","dayFormat","computeLayout","_ref4","fromDate","toDate","monthsSize","yearsSize","_alignBox","_alignBox2","cellPosition","years","months","days","yearStart","yearEnd","dayDate","size","yearMonths","monthDate","bindDaysData","_ref5","color","dayData","computeYearLegendPositions","_ref6","position","offset","rotation","computeMonthLegendPositions","_ref7","commonEnhancers","domain","defaultColorScale","yearLegends","monthLegends","enhance","displayName","CalendarYearLegends","legend","theme","createElement","Fragment","transform","textAnchor","style","labels","text","propTypes","array","object","CalendarMonthPath","borderWidth","borderColor","fill","strokeWidth","stroke","pointerEvents","CalendarMonthPath$1","CalendarMonthLegends","_objectSpread$2","_defineProperty$2","CalendarDay","spacing","showTooltip","hideTooltip","onMouseEnter","onMouseMove","onMouseLeave","enhance$1","_onClick","event","_showTooltip","id","enableChip","format","renderContent","bind","CalendarDay$1","_extends","assign","hasOwnProperty","Calendar","margin","outerWidth","outerHeight","animate","m","legendData","ticks","label","containerWidth","containerHeight","Calendar$1","_extends$1","ResponsiveCalendar","props","_typeof","constructor","_objectSpread$3","_defineProperty$3","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","findDayUnderCursor","find","left","top","CalendarCanvas","_Component","_getPrototypeOf2","_this","_len","args","_key","_this$props","_getRelativeCursor","surface","_getRelativeCursor2","currentDay","_this$props2","_getRelativeCursor3","_getRelativeCursor4","componentDidMount","ctx","getContext","draw","shouldComponentUpdate","componentDidUpdate","_this2","scale","fillStyle","background","fillRect","translate","strokeStyle","lineWidth","beginPath","rect","textAlign","textBaseline","font","fontSize","fontFamily","save","rotate","fillText","restore","render","_this3","_this$props3","ref","handleMouseHover","handleMouseLeave","handleClick","CalendarCanvas$1","_extends$2","ResponsiveCalendarCanvas"],"mappings":"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","sourcesContent":["import _setDisplayName from 'recompose/setDisplayName';\nimport React, { memo, Component } from 'react';\nimport { boxAlignments, noop, alignBox, withTheme, withDimensions, Container, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect, degreesToRadians } from '@nivo/core';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport PropTypes from 'prop-types';\nimport { timeFormat } from 'd3-time-format';\nimport _pure from 'recompose/pure';\nimport _withPropsOnChange from 'recompose/withPropsOnChange';\nimport _defaultProps from 'recompose/defaultProps';\nimport _compose from 'recompose/compose';\nimport { scaleQuantize } from 'd3-scale';\nimport memoize from 'lodash.memoize';\nimport isDate from 'lodash.isdate';\nimport range from 'lodash.range';\nimport { timeWeek, timeYear, timeWeeks, timeDays, timeMonths } from 'd3-time';\nimport { BasicTooltip } from '@nivo/tooltip';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar monthLabelFormat = timeFormat('%b');\nvar commonPropTypes = {\n  from: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    day: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired\n  })).isRequired,\n  align: PropTypes.oneOf(boxAlignments).isRequired,\n  originX: PropTypes.number.isRequired,\n  originY: PropTypes.number.isRequired,\n  calendarWidth: PropTypes.number.isRequired,\n  calendarHeight: PropTypes.number.isRequired,\n  minValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n  maxValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n  colors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  colorScale: PropTypes.func.isRequired,\n  direction: PropTypes.oneOf(['horizontal', 'vertical']),\n  emptyColor: PropTypes.string.isRequired,\n  yearLegend: PropTypes.func.isRequired,\n  yearSpacing: PropTypes.number.isRequired,\n  yearLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n  yearLegendOffset: PropTypes.number.isRequired,\n  monthBorderWidth: PropTypes.number.isRequired,\n  monthBorderColor: PropTypes.string.isRequired,\n  monthLegend: PropTypes.func.isRequired,\n  monthLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n  monthLegendOffset: PropTypes.number.isRequired,\n  daySpacing: PropTypes.number.isRequired,\n  dayBorderWidth: PropTypes.number.isRequired,\n  dayBorderColor: PropTypes.string.isRequired,\n  isInteractive: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  legends: PropTypes.arrayOf(PropTypes.shape(_objectSpread({}, LegendPropShape, {\n    itemCount: PropTypes.number.isRequired\n  }))).isRequired\n};\nvar CalendarPropTypes = commonPropTypes;\nvar CalendarCanvasPropTypes = _objectSpread({}, commonPropTypes, {\n  pixelRatio: PropTypes.number.isRequired\n});\nvar commonDefaultProps = {\n  colors: ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560'],\n  align: 'center',\n  direction: 'horizontal',\n  emptyColor: '#fff',\n  minValue: 0,\n  maxValue: 'auto',\n  yearSpacing: 30,\n  yearLegend: function yearLegend(year) {\n    return year;\n  },\n  yearLegendPosition: 'before',\n  yearLegendOffset: 10,\n  monthBorderWidth: 2,\n  monthBorderColor: '#000',\n  monthLegend: function monthLegend(year, month, date) {\n    return monthLabelFormat(date);\n  },\n  monthLegendPosition: 'before',\n  monthLegendOffset: 10,\n  weekdayLegend: function weekdayLegend(d) {\n    return d;\n  },\n  daySpacing: 0,\n  dayBorderWidth: 1,\n  dayBorderColor: '#000',\n  isInteractive: true,\n  onClick: noop,\n  legends: []\n};\nvar CalendarDefaultProps = commonDefaultProps;\nvar CalendarCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar computeDomain = function computeDomain(data, minSpec, maxSpec) {\n  var allValues = data.map(function (d) {\n    return d.value;\n  });\n  var minValue = minSpec === 'auto' ? Math.min.apply(Math, _toConsumableArray(allValues)) : minSpec;\n  var maxValue = maxSpec === 'auto' ? Math.max.apply(Math, _toConsumableArray(allValues)) : maxSpec;\n  return [minValue, maxValue];\n};\nvar computeCellSize = function computeCellSize(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      direction = _ref.direction,\n      yearRange = _ref.yearRange,\n      yearSpacing = _ref.yearSpacing,\n      daySpacing = _ref.daySpacing,\n      maxWeeks = _ref.maxWeeks;\n  var hCellSize;\n  var vCellSize;\n  if (direction === 'horizontal') {\n    hCellSize = (width - daySpacing * maxWeeks) / maxWeeks;\n    vCellSize = (height - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) / (yearRange.length * 7);\n  } else {\n    hCellSize = (width - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) / (yearRange.length * 7);\n    vCellSize = (height - daySpacing * maxWeeks) / maxWeeks;\n  }\n  return Math.min(hCellSize, vCellSize);\n};\nvar monthPathAndBBox = function monthPathAndBBox(_ref2) {\n  var date = _ref2.date,\n      cellSize = _ref2.cellSize,\n      yearIndex = _ref2.yearIndex,\n      yearSpacing = _ref2.yearSpacing,\n      daySpacing = _ref2.daySpacing,\n      direction = _ref2.direction,\n      originX = _ref2.originX,\n      originY = _ref2.originY;\n  var t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n  var firstWeek = timeWeek.count(timeYear(date), date);\n  var lastWeek = timeWeek.count(timeYear(t1), t1);\n  var firstDay = date.getDay();\n  var lastDay = t1.getDay();\n  var xO = originX;\n  var yO = originY;\n  var yearOffset = yearIndex * (7 * (cellSize + daySpacing) + yearSpacing);\n  if (direction === 'horizontal') {\n    yO += yearOffset;\n  } else {\n    xO += yearOffset;\n  }\n  var path;\n  var bbox = {\n    x: xO,\n    y: yO,\n    width: 0,\n    height: 0\n  };\n  if (direction === 'horizontal') {\n    path = [\"M\".concat(xO + (firstWeek + 1) * (cellSize + daySpacing), \",\").concat(yO + firstDay * (cellSize + daySpacing)), \"H\".concat(xO + firstWeek * (cellSize + daySpacing), \"V\").concat(yO + 7 * (cellSize + daySpacing)), \"H\".concat(xO + lastWeek * (cellSize + daySpacing), \"V\").concat(yO + (lastDay + 1) * (cellSize + daySpacing)), \"H\".concat(xO + (lastWeek + 1) * (cellSize + daySpacing), \"V\").concat(yO), \"H\".concat(xO + (firstWeek + 1) * (cellSize + daySpacing), \"Z\")].join('');\n    bbox.x = xO + firstWeek * (cellSize + daySpacing);\n    bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x;\n    bbox.height = 7 * (cellSize + daySpacing);\n  } else {\n    path = [\"M\".concat(xO + firstDay * (cellSize + daySpacing), \",\").concat(yO + (firstWeek + 1) * (cellSize + daySpacing)), \"H\".concat(xO, \"V\").concat(yO + (lastWeek + 1) * (cellSize + daySpacing)), \"H\".concat(xO + (lastDay + 1) * (cellSize + daySpacing), \"V\").concat(yO + lastWeek * (cellSize + daySpacing)), \"H\".concat(xO + 7 * (cellSize + daySpacing), \"V\").concat(yO + firstWeek * (cellSize + daySpacing)), \"H\".concat(xO + firstDay * (cellSize + daySpacing), \"Z\")].join('');\n    bbox.y = yO + firstWeek * (cellSize + daySpacing);\n    bbox.width = 7 * (cellSize + daySpacing);\n    bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y;\n  }\n  return {\n    path: path,\n    bbox: bbox\n  };\n};\nvar memoMonthPathAndBBox = memoize(monthPathAndBBox, function (_ref3) {\n  var date = _ref3.date,\n      cellSize = _ref3.cellSize,\n      yearIndex = _ref3.yearIndex,\n      yearSpacing = _ref3.yearSpacing,\n      daySpacing = _ref3.daySpacing,\n      direction = _ref3.direction,\n      originX = _ref3.originX,\n      originY = _ref3.originY;\n  return \"\".concat(date.toString(), \".\").concat(cellSize, \".\").concat(yearIndex, \".\").concat(yearSpacing, \".\").concat(daySpacing, \".\").concat(direction, \".\").concat(originX, \".\").concat(originY);\n});\nvar cellPositionHorizontal = function cellPositionHorizontal(cellSize, yearSpacing, daySpacing) {\n  return function (originX, originY, d, yearIndex) {\n    var weekOfYear = timeWeek.count(timeYear(d), d);\n    return {\n      x: originX + weekOfYear * (cellSize + daySpacing) + daySpacing / 2,\n      y: originY + d.getDay() * (cellSize + daySpacing) + daySpacing / 2 + yearIndex * (yearSpacing + 7 * (cellSize + daySpacing))\n    };\n  };\n};\nvar cellPositionVertical = function cellPositionVertical(cellSize, yearSpacing, daySpacing) {\n  return function (originX, originY, d, yearIndex) {\n    var weekOfYear = timeWeek.count(timeYear(d), d);\n    return {\n      x: originX + d.getDay() * (cellSize + daySpacing) + daySpacing / 2 + yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n      y: originY + weekOfYear * (cellSize + daySpacing) + daySpacing / 2\n    };\n  };\n};\nvar dayFormat = timeFormat('%Y-%m-%d');\nvar computeLayout = function computeLayout(_ref4) {\n  var width = _ref4.width,\n      height = _ref4.height,\n      from = _ref4.from,\n      to = _ref4.to,\n      direction = _ref4.direction,\n      yearSpacing = _ref4.yearSpacing,\n      daySpacing = _ref4.daySpacing,\n      align = _ref4.align;\n  var fromDate = isDate(from) ? from : new Date(from);\n  var toDate = isDate(to) ? to : new Date(to);\n  var yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1);\n  var maxWeeks = Math.max.apply(Math, _toConsumableArray(yearRange.map(function (year) {\n    return timeWeeks(new Date(year, 0, 1), new Date(year + 1, 0, 1)).length;\n  }))) + 1;\n  var cellSize = computeCellSize({\n    width: width,\n    height: height,\n    direction: direction,\n    yearRange: yearRange,\n    yearSpacing: yearSpacing,\n    daySpacing: daySpacing,\n    maxWeeks: maxWeeks\n  });\n  var monthsSize = cellSize * maxWeeks + daySpacing * maxWeeks;\n  var yearsSize = (cellSize + daySpacing) * 7 * yearRange.length + yearSpacing * (yearRange.length - 1);\n  var calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize;\n  var calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize;\n  var _alignBox = alignBox({\n    x: 0,\n    y: 0,\n    width: calendarWidth,\n    height: calendarHeight\n  }, {\n    x: 0,\n    y: 0,\n    width: width,\n    height: height\n  }, align),\n      _alignBox2 = _slicedToArray(_alignBox, 2),\n      originX = _alignBox2[0],\n      originY = _alignBox2[1];\n  var cellPosition;\n  if (direction === 'horizontal') {\n    cellPosition = cellPositionHorizontal(cellSize, yearSpacing, daySpacing);\n  } else {\n    cellPosition = cellPositionVertical(cellSize, yearSpacing, daySpacing);\n  }\n  var years = [];\n  var months = [];\n  var days = [];\n  yearRange.forEach(function (year, i) {\n    var yearStart = new Date(year, 0, 1);\n    var yearEnd = new Date(year + 1, 0, 1);\n    days = days.concat(timeDays(yearStart, yearEnd).map(function (dayDate) {\n      return _objectSpread$1({\n        date: dayDate,\n        day: dayFormat(dayDate),\n        size: cellSize\n      }, cellPosition(originX, originY, dayDate, i));\n    }));\n    var yearMonths = timeMonths(yearStart, yearEnd).map(function (monthDate) {\n      return _objectSpread$1({\n        date: monthDate,\n        year: monthDate.getFullYear(),\n        month: monthDate.getMonth()\n      }, memoMonthPathAndBBox({\n        originX: originX,\n        originY: originY,\n        date: monthDate,\n        direction: direction,\n        yearIndex: i,\n        yearSpacing: yearSpacing,\n        daySpacing: daySpacing,\n        cellSize: cellSize\n      }));\n    });\n    months = months.concat(yearMonths);\n    years.push({\n      year: year,\n      bbox: {\n        x: yearMonths[0].bbox.x,\n        y: yearMonths[0].bbox.y,\n        width: yearMonths[11].bbox.x - yearMonths[0].bbox.x + yearMonths[11].bbox.width,\n        height: yearMonths[11].bbox.y - yearMonths[0].bbox.y + yearMonths[11].bbox.height\n      }\n    });\n  });\n  return {\n    years: years,\n    months: months,\n    days: days,\n    cellSize: cellSize,\n    calendarWidth: calendarWidth,\n    calendarHeight: calendarHeight,\n    originX: originX,\n    originY: originY\n  };\n};\nvar bindDaysData = function bindDaysData(_ref5) {\n  var days = _ref5.days,\n      data = _ref5.data,\n      colorScale = _ref5.colorScale,\n      emptyColor = _ref5.emptyColor;\n  return days.map(function (day) {\n    day.color = emptyColor;\n    data.forEach(function (dayData) {\n      if (dayData.day === day.day) {\n        day.value = dayData.value;\n        day.color = colorScale(dayData.value);\n        day.data = dayData;\n      }\n    });\n    return day;\n  });\n};\nvar computeYearLegendPositions = function computeYearLegendPositions(_ref6) {\n  var years = _ref6.years,\n      direction = _ref6.direction,\n      position = _ref6.position,\n      offset = _ref6.offset;\n  return years.map(function (year) {\n    var x = 0;\n    var y = 0;\n    var rotation = 0;\n    if (direction === 'horizontal' && position === 'before') {\n      x = year.bbox.x - offset;\n      y = year.bbox.y + year.bbox.height / 2;\n      rotation = -90;\n    } else if (direction === 'horizontal' && position === 'after') {\n      x = year.bbox.x + year.bbox.width + offset;\n      y = year.bbox.y + year.bbox.height / 2;\n      rotation = -90;\n    } else if (direction === 'vertical' && position === 'before') {\n      x = year.bbox.x + year.bbox.width / 2;\n      y = year.bbox.y - offset;\n    } else {\n      x = year.bbox.x + year.bbox.width / 2;\n      y = year.bbox.y + year.bbox.height + offset;\n    }\n    return _objectSpread$1({}, year, {\n      x: x,\n      y: y,\n      rotation: rotation\n    });\n  });\n};\nvar computeMonthLegendPositions = function computeMonthLegendPositions(_ref7) {\n  var months = _ref7.months,\n      direction = _ref7.direction,\n      position = _ref7.position,\n      offset = _ref7.offset;\n  return months.map(function (month) {\n    var x = 0;\n    var y = 0;\n    var rotation = 0;\n    if (direction === 'horizontal' && position === 'before') {\n      x = month.bbox.x + month.bbox.width / 2;\n      y = month.bbox.y - offset;\n    } else if (direction === 'horizontal' && position === 'after') {\n      x = month.bbox.x + month.bbox.width / 2;\n      y = month.bbox.y + month.bbox.height + offset;\n    } else if (direction === 'vertical' && position === 'before') {\n      x = month.bbox.x - offset;\n      y = month.bbox.y + month.bbox.height / 2;\n      rotation = -90;\n    } else {\n      x = month.bbox.x + month.bbox.width + offset;\n      y = month.bbox.y + month.bbox.height / 2;\n      rotation = -90;\n    }\n    return _objectSpread$1({}, month, {\n      x: x,\n      y: y,\n      rotation: rotation\n    });\n  });\n};\n\nvar commonEnhancers = [withTheme(), withDimensions(), _withPropsOnChange(['data', 'minValue', 'maxValue', 'colors', 'colorScale'], function (_ref) {\n  var data = _ref.data,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      colors = _ref.colors,\n      colorScale = _ref.colorScale;\n  if (colorScale) return {\n    colorScale: colorScale\n  };\n  var domain = computeDomain(data, minValue, maxValue);\n  var defaultColorScale = scaleQuantize().domain(domain).range(colors);\n  return {\n    colorScale: defaultColorScale\n  };\n}), _withPropsOnChange(['width', 'height', 'from', 'to', 'direction', 'yearSpacing', 'daySpacing', 'align'], function (_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      from = _ref2.from,\n      to = _ref2.to,\n      direction = _ref2.direction,\n      yearSpacing = _ref2.yearSpacing,\n      daySpacing = _ref2.daySpacing,\n      align = _ref2.align;\n  return computeLayout({\n    width: width,\n    height: height,\n    from: from,\n    to: to,\n    direction: direction,\n    yearSpacing: yearSpacing,\n    daySpacing: daySpacing,\n    align: align\n  });\n}), _withPropsOnChange(['years', 'direction', 'yearLegendPosition', 'yearLegendOffset'], function (_ref3) {\n  var years = _ref3.years,\n      direction = _ref3.direction,\n      yearLegendPosition = _ref3.yearLegendPosition,\n      yearLegendOffset = _ref3.yearLegendOffset;\n  return {\n    yearLegends: computeYearLegendPositions({\n      years: years,\n      direction: direction,\n      position: yearLegendPosition,\n      offset: yearLegendOffset\n    })\n  };\n}), _withPropsOnChange(['months', 'direction', 'monthLegendPosition', 'monthLegendOffset'], function (_ref4) {\n  var months = _ref4.months,\n      direction = _ref4.direction,\n      monthLegendPosition = _ref4.monthLegendPosition,\n      monthLegendOffset = _ref4.monthLegendOffset;\n  return {\n    monthLegends: computeMonthLegendPositions({\n      months: months,\n      direction: direction,\n      position: monthLegendPosition,\n      offset: monthLegendOffset\n    })\n  };\n}), _withPropsOnChange(['days', 'data', 'colorScale', 'emptyColor'], function (_ref5) {\n  var days = _ref5.days,\n      data = _ref5.data,\n      colorScale = _ref5.colorScale,\n      emptyColor = _ref5.emptyColor;\n  return {\n    days: bindDaysData({\n      days: days,\n      data: data,\n      colorScale: colorScale,\n      emptyColor: emptyColor\n    })\n  };\n})];\nvar enhance = (function (Component) {\n  switch (Component.displayName) {\n    case 'Calendar':\n      return _compose.apply(void 0, [_defaultProps(CalendarDefaultProps)].concat(commonEnhancers, [_pure]))(Component);\n    case 'CalendarCanvas':\n      return _compose.apply(void 0, [_defaultProps(CalendarCanvasDefaultProps)].concat(commonEnhancers, [_pure]))(Component);\n  }\n  return Component;\n});\n\nvar CalendarYearLegends = memo(function (_ref) {\n  var years = _ref.years,\n      legend = _ref.legend,\n      theme = _ref.theme;\n  return React.createElement(React.Fragment, null, years.map(function (year) {\n    return React.createElement(\"text\", {\n      key: year.year,\n      transform: \"translate(\".concat(year.x, \",\").concat(year.y, \") rotate(\").concat(year.rotation, \")\"),\n      textAnchor: \"middle\",\n      style: theme.labels.text\n    }, legend(year.year));\n  }));\n});\nCalendarYearLegends.propTypes = {\n  years: PropTypes.array.isRequired,\n  legend: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired\n};\nCalendarYearLegends.displayName = 'CalendarYearLegends';\n\nvar CalendarMonthPath = function CalendarMonthPath(_ref) {\n  var path = _ref.path,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor;\n  return React.createElement(\"path\", {\n    d: path,\n    style: {\n      fill: 'none',\n      strokeWidth: borderWidth,\n      stroke: borderColor,\n      pointerEvents: 'none'\n    }\n  });\n};\nCalendarMonthPath.propTypes = {\n  path: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired\n};\nvar CalendarMonthPath$1 = _pure(CalendarMonthPath);\n\nvar CalendarMonthLegends = memo(function (_ref) {\n  var months = _ref.months,\n      legend = _ref.legend,\n      theme = _ref.theme;\n  return React.createElement(React.Fragment, null, months.map(function (month) {\n    return React.createElement(\"text\", {\n      key: \"\".concat(month.date.toString(), \".legend\"),\n      transform: \"translate(\".concat(month.x, \",\").concat(month.y, \") rotate(\").concat(month.rotation, \")\"),\n      textAnchor: \"middle\",\n      style: theme.labels.text\n    }, legend(month.year, month.month, month.date));\n  }));\n});\nCalendarMonthLegends.propTypes = {\n  months: PropTypes.array.isRequired,\n  legend: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired\n};\nCalendarMonthLegends.displayName = 'CalendarMonthLegends';\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar CalendarDay = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      spacing = _ref.spacing,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      onClick = _ref.onClick,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip;\n  return React.createElement(React.Fragment, null, React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    width: size,\n    height: size,\n    style: {\n      fill: color,\n      strokeWidth: borderWidth,\n      stroke: borderColor\n    }\n  }), React.createElement(\"rect\", {\n    fill: \"rgba(0, 0, 0, 0)\",\n    x: x - spacing / 2,\n    y: y - spacing / 2,\n    width: size + spacing,\n    height: size + spacing,\n    onClick: onClick,\n    onMouseEnter: showTooltip,\n    onMouseMove: showTooltip,\n    onMouseLeave: hideTooltip\n  }));\n});\nCalendarDay.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  spacing: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  theme: PropTypes.shape({\n    tooltip: PropTypes.shape({}).isRequired\n  }).isRequired\n};\nCalendarDay.displayName = 'CalendarDay';\nvar enhance$1 = _compose(_withPropsOnChange(['data', 'onClick'], function (_ref2) {\n  var data = _ref2.data,\n      _onClick = _ref2.onClick;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(data, event);\n    }\n  };\n}), _withPropsOnChange(['data', 'color', 'showTooltip', 'tooltipFormat', 'tooltip', 'theme'], function (_ref3) {\n  var data = _ref3.data,\n      color = _ref3.color,\n      _showTooltip = _ref3.showTooltip,\n      tooltipFormat = _ref3.tooltipFormat,\n      tooltip = _ref3.tooltip,\n      theme = _ref3.theme;\n  if (data.value === undefined) return {\n    showTooltip: noop\n  };\n  return {\n    showTooltip: function showTooltip(event) {\n      return _showTooltip(React.createElement(BasicTooltip, {\n        id: \"\".concat(data.day),\n        value: data.value,\n        enableChip: true,\n        color: color,\n        theme: theme,\n        format: tooltipFormat,\n        renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread$2({\n          color: color\n        }, data)) : null\n      }), event);\n    }\n  };\n}), _pure);\nvar CalendarDay$1 = enhance$1(CalendarDay);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar Calendar = function Calendar(_ref) {\n  var colorScale = _ref.colorScale,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      yearLegends = _ref.yearLegends,\n      yearLegend = _ref.yearLegend,\n      monthLegends = _ref.monthLegends,\n      monthLegend = _ref.monthLegend,\n      monthBorderWidth = _ref.monthBorderWidth,\n      monthBorderColor = _ref.monthBorderColor,\n      daySpacing = _ref.daySpacing,\n      dayBorderWidth = _ref.dayBorderWidth,\n      dayBorderColor = _ref.dayBorderColor,\n      theme = _ref.theme,\n      isInteractive = _ref.isInteractive,\n      tooltipFormat = _ref.tooltipFormat,\n      tooltip = _ref.tooltip,\n      onClick = _ref.onClick,\n      legends = _ref.legends,\n      months = _ref.months,\n      days = _ref.days;\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: false\n  }, function (_ref2) {\n    var showTooltip = _ref2.showTooltip,\n        hideTooltip = _ref2.hideTooltip;\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      theme: theme\n    }, days.map(function (d) {\n      return React.createElement(CalendarDay$1, {\n        key: d.date.toString(),\n        data: d,\n        x: d.x,\n        y: d.y,\n        size: d.size,\n        spacing: daySpacing,\n        color: d.color,\n        borderWidth: dayBorderWidth,\n        borderColor: dayBorderColor,\n        showTooltip: showTooltip,\n        hideTooltip: hideTooltip,\n        tooltipFormat: tooltipFormat,\n        tooltip: tooltip,\n        theme: theme,\n        onClick: onClick\n      });\n    }), months.map(function (m) {\n      return React.createElement(CalendarMonthPath$1, {\n        key: m.date.toString(),\n        path: m.path,\n        borderWidth: monthBorderWidth,\n        borderColor: monthBorderColor\n      });\n    }), React.createElement(CalendarMonthLegends, {\n      months: monthLegends,\n      legend: monthLegend,\n      theme: theme\n    }), React.createElement(CalendarYearLegends, {\n      years: yearLegends,\n      legend: yearLegend,\n      theme: theme\n    }), legends.map(function (legend, i) {\n      var legendData = colorScale.ticks(legend.itemCount).map(function (value) {\n        return {\n          id: value,\n          label: value,\n          color: colorScale(value)\n        };\n      });\n      return React.createElement(BoxLegendSvg, _extends({\n        key: i\n      }, legend, {\n        containerWidth: width,\n        containerHeight: height,\n        data: legendData,\n        theme: theme\n      }));\n    }));\n  });\n};\nCalendar.displayName = 'Calendar';\nCalendar.propTypes = CalendarPropTypes;\nvar Calendar$1 = _setDisplayName('Calendar')(enhance(Calendar));\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nvar ResponsiveCalendar = function ResponsiveCalendar(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Calendar$1, _extends$1({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar findDayUnderCursor = function findDayUnderCursor(days, size, spacing, margin, x, y) {\n  return days.find(function (day) {\n    return day.value !== undefined && isCursorInRect(day.x + margin.left - spacing / 2, day.y + margin.top - spacing / 2, size + spacing, size + spacing, x, y);\n  });\n};\nvar CalendarCanvas =\nfunction (_Component) {\n  _inherits(CalendarCanvas, _Component);\n  function CalendarCanvas() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, CalendarCanvas);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CalendarCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseHover\", function (showTooltip, hideTooltip) {\n      return function (event) {\n        var _this$props = _this.props,\n            isInteractive = _this$props.isInteractive,\n            margin = _this$props.margin,\n            theme = _this$props.theme,\n            days = _this$props.days,\n            daySpacing = _this$props.daySpacing,\n            tooltipFormat = _this$props.tooltipFormat,\n            tooltip = _this$props.tooltip;\n        if (!isInteractive || !days || days.length === 0) return;\n        var _getRelativeCursor = getRelativeCursor(_this.surface, event),\n            _getRelativeCursor2 = _slicedToArray$1(_getRelativeCursor, 2),\n            x = _getRelativeCursor2[0],\n            y = _getRelativeCursor2[1];\n        var currentDay = findDayUnderCursor(days, days[0].size, daySpacing, margin, x, y);\n        if (currentDay !== undefined) {\n          showTooltip(React.createElement(BasicTooltip, {\n            id: \"\".concat(currentDay.day),\n            value: currentDay.value,\n            enableChip: true,\n            color: currentDay.color,\n            theme: theme,\n            format: tooltipFormat,\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, currentDay) : null\n          }), event);\n        } else {\n          hideTooltip();\n        }\n      };\n    });\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseLeave\", function (hideTooltip) {\n      return function () {\n        if (_this.props.isInteractive !== true) return;\n        hideTooltip();\n      };\n    });\n    _defineProperty$3(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      var _this$props2 = _this.props,\n          isInteractive = _this$props2.isInteractive,\n          margin = _this$props2.margin,\n          onClick = _this$props2.onClick,\n          days = _this$props2.days,\n          daySpacing = _this$props2.daySpacing;\n      if (!isInteractive || !days || days.length === 0) return;\n      var _getRelativeCursor3 = getRelativeCursor(_this.surface, event),\n          _getRelativeCursor4 = _slicedToArray$1(_getRelativeCursor3, 2),\n          x = _getRelativeCursor4[0],\n          y = _getRelativeCursor4[1];\n      var currentDay = findDayUnderCursor(days, days[0].size, daySpacing, margin, x, y);\n      if (currentDay !== undefined) onClick(currentDay, event);\n    });\n    return _this;\n  }\n  _createClass(CalendarCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(props) {\n      if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\n        return true;\n      } else {\n        this.draw(props);\n        return false;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(props) {\n      var _this2 = this;\n      var pixelRatio = props.pixelRatio,\n          margin = props.margin,\n          width = props.width,\n          height = props.height,\n          outerWidth = props.outerWidth,\n          outerHeight = props.outerHeight,\n          colorScale = props.colorScale,\n          yearLegends = props.yearLegends,\n          yearLegend = props.yearLegend,\n          monthLegends = props.monthLegends,\n          monthLegend = props.monthLegend,\n          days = props.days,\n          dayBorderWidth = props.dayBorderWidth,\n          dayBorderColor = props.dayBorderColor,\n          legends = props.legends,\n          theme = props.theme;\n      this.surface.width = outerWidth * pixelRatio;\n      this.surface.height = outerHeight * pixelRatio;\n      this.ctx.scale(pixelRatio, pixelRatio);\n      this.ctx.fillStyle = theme.background;\n      this.ctx.fillRect(0, 0, outerWidth, outerHeight);\n      this.ctx.translate(margin.left, margin.top);\n      days.forEach(function (day) {\n        _this2.ctx.fillStyle = day.color;\n        if (dayBorderWidth > 0) {\n          _this2.ctx.strokeStyle = dayBorderColor;\n          _this2.ctx.lineWidth = dayBorderWidth;\n        }\n        _this2.ctx.beginPath();\n        _this2.ctx.rect(day.x, day.y, day.size, day.size);\n        _this2.ctx.fill();\n        if (dayBorderWidth > 0) {\n          _this2.ctx.stroke();\n        }\n      });\n      this.ctx.textAlign = 'center';\n      this.ctx.textBaseline = 'middle';\n      this.ctx.fillStyle = theme.labels.text.fill;\n      this.ctx.font = \"\".concat(theme.labels.text.fontSize, \"px \").concat(theme.labels.text.fontFamily);\n      monthLegends.forEach(function (month) {\n        _this2.ctx.save();\n        _this2.ctx.translate(month.x, month.y);\n        _this2.ctx.rotate(degreesToRadians(month.rotation));\n        _this2.ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0);\n        _this2.ctx.restore();\n      });\n      yearLegends.forEach(function (year) {\n        _this2.ctx.save();\n        _this2.ctx.translate(year.x, year.y);\n        _this2.ctx.rotate(degreesToRadians(year.rotation));\n        _this2.ctx.fillText(yearLegend(year.year), 0, 0);\n        _this2.ctx.restore();\n      });\n      legends.forEach(function (legend) {\n        var legendData = colorScale.ticks(legend.itemCount).map(function (value) {\n          return {\n            id: value,\n            label: value,\n            color: colorScale(value)\n          };\n        });\n        renderLegendToCanvas(_this2.ctx, _objectSpread$3({}, legend, {\n          data: legendData,\n          containerWidth: width,\n          containerHeight: height,\n          theme: theme\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$props3 = this.props,\n          outerWidth = _this$props3.outerWidth,\n          outerHeight = _this$props3.outerHeight,\n          pixelRatio = _this$props3.pixelRatio,\n          isInteractive = _this$props3.isInteractive,\n          theme = _this$props3.theme;\n      return React.createElement(Container, {\n        isInteractive: isInteractive,\n        theme: theme,\n        animate: false\n      }, function (_ref) {\n        var showTooltip = _ref.showTooltip,\n            hideTooltip = _ref.hideTooltip;\n        return React.createElement(\"canvas\", {\n          ref: function ref(surface) {\n            _this3.surface = surface;\n          },\n          width: outerWidth * pixelRatio,\n          height: outerHeight * pixelRatio,\n          style: {\n            width: outerWidth,\n            height: outerHeight\n          },\n          onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseLeave: _this3.handleMouseLeave(hideTooltip),\n          onClick: _this3.handleClick\n        });\n      });\n    }\n  }]);\n  return CalendarCanvas;\n}(Component);\n_defineProperty$3(CalendarCanvas, \"propTypes\", CalendarCanvasPropTypes);\nCalendarCanvas.displayName = 'CalendarCanvas';\nvar CalendarCanvas$1 = _setDisplayName(CalendarCanvas.displayName)(enhance(CalendarCanvas));\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveCalendarCanvas = function ResponsiveCalendarCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(CalendarCanvas$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Calendar$1 as Calendar, CalendarCanvas$1 as CalendarCanvas, CalendarCanvasDefaultProps, CalendarCanvasPropTypes, CalendarDefaultProps, CalendarPropTypes, ResponsiveCalendar, ResponsiveCalendarCanvas };\n"]},"metadata":{},"sourceType":"module"}