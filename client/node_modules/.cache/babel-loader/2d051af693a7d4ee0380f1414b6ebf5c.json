{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\lawre_5pc0p1c\\\\Documents\\\\Coding\\\\futureproof\\\\week10\\\\habit\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport LandingPage from './containers/LandingPage';\nimport Dashboard from './containers/Dashboard';\nimport AddHabit from './containers/AddHabit';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport Axios from \"axios\";\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loggedIn: false,\n      userId: '',\n      username: ''\n    };\n\n    this.loggedInUser = (userId, username) => {\n      this.setState({\n        loggedIn: true,\n        userId: userId,\n        username: username\n      });\n    };\n\n    this.loggedOutUser = () => {\n      this.setState({\n        loggedIn: false,\n        userId: '',\n        username: ''\n      });\n    };\n\n    this.logoutUser = () => {\n      Axios.post(\"/api/v1/users/logout\").then(() => this.loggedOutUser());\n    };\n\n    this.getUserData = () => {\n      Axios.get(\"/api/v1/users\").then(res => res.data.userLoggedIn && this.loggedInUser(res.data._id, res.data.username)).catch(err => console.error(err));\n    };\n\n    this.componentDidMount = () => {\n      this.getUserData();\n    };\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.loggedIn && React.createElement(\"div\", {\n      className: \"nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/dash\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Dashboard\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/addHabit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Add Habit\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Link, {\n      onClick: () => this.logoutUser(),\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Logout\"))))), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.loggedIn && React.createElement(Route, {\n      path: \"/dash\",\n      render: props => React.createElement(Dashboard, Object.assign({}, props, {\n        userId: this.state.userId,\n        username: this.state.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), this.state.loggedIn && React.createElement(Route, {\n      path: \"/addHabit\",\n      render: props => React.createElement(AddHabit, Object.assign({}, props, {\n        bigState: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.state.loggedIn ? React.createElement(Redirect, {\n      to: \"/dash\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }) : React.createElement(LandingPage, {\n      getUserData: this.getUserData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["c:/Users/lawre_5pc0p1c/Documents/Coding/futureproof/week10/habit/client/src/App.js"],"names":["React","Component","LandingPage","Dashboard","AddHabit","BrowserRouter","Router","Switch","Route","Link","Redirect","Axios","App","state","loggedIn","userId","username","loggedInUser","setState","loggedOutUser","logoutUser","post","then","getUserData","get","res","data","userLoggedIn","_id","catch","err","console","error","componentDidMount","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport LandingPage from './containers/LandingPage';\r\nimport Dashboard from './containers/Dashboard';\r\nimport AddHabit from './containers/AddHabit';\r\nimport './App.css'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nexport default class App extends Component {\r\n  state = {\r\n    loggedIn: false,\r\n    userId: '',\r\n    username: ''\r\n  }\r\n\r\n  loggedInUser = (userId, username) => {\r\n    this.setState({ loggedIn: true, userId: userId, username: username })\r\n  }\r\n\r\n  loggedOutUser = () => { \r\n    this.setState({ loggedIn: false, userId: '', username: ''}) \r\n}\r\n\r\nlogoutUser = () => {\r\n  Axios.post(\"/api/v1/users/logout\")\r\n  .then(() => this.loggedOutUser())\r\n}\r\n\r\ngetUserData = () => {\r\n  Axios.get(\"/api/v1/users\")\r\n  .then((res) => res.data.userLoggedIn && this.loggedInUser(res.data._id, res.data.username))\r\n  .catch((err) => console.error(err))\r\n} \r\n\r\ncomponentDidMount = () => {\r\n  this.getUserData()\r\n}\r\n\r\n  render() {\r\n    return (<Router>\r\n      <div className=\"App\">\r\n        <nav>\r\n          <ul>\r\n            {this.state.loggedIn &&\r\n              <div className=\"nav\">\r\n                <li>\r\n                  <Link to=\"/dash\">Dashboard</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/addHabit\">Add Habit</Link>\r\n                </li>\r\n                <li>\r\n                  <Link onClick={()=>this.logoutUser()} to=\"/\">Logout</Link>\r\n                </li>\r\n              </div>\r\n            }\r\n          </ul>\r\n        </nav>\r\n        \r\n        <Switch>\r\n\r\n          {this.state.loggedIn && <Route path=\"/dash\" render={\r\n            (props) => <Dashboard {...props} userId={this.state.userId} username={this.state.username} />\r\n          } />}\r\n          {this.state.loggedIn && <Route path=\"/addHabit\" render={(props) => <AddHabit {...props} bigState={this.state} />}\r\n          />}\r\n          <Route path=\"/\">\r\n            {this.state.loggedIn ? <Redirect to=\"/dash\" /> : <LandingPage getUserData={this.getUserData} />}\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}