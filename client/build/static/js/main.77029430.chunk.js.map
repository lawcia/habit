{"version":3,"sources":["components/RegisterForm.js","components/Login.js","containers/LandingPage.js","components/Habit.js","containers/Habits.js","containers/Dashboard.js","components/HabitForm.js","containers/AddHabit.js","App.js","index.js"],"names":["RegisterForm","props","state","username","password","handleChange","bind","handleSubmit","event","this","setState","target","name","value","Axios","post","then","alert","catch","err","response","data","message","preventDefault","onSubmit","className","type","onChange","minLength","maxLength","required","React","Component","Login","getUserData","LandingPage","new","existing","e","id","onClick","clicker","Habit","clicked","clickable","startDate","Date","min_diff","delete","habit","_id","getAllHabits","calcMinDiff","dt1","dateChecked","length","dt2","Math","floor","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","date_diff_indays","frequency","strikethrough","put","streak","checkStreak","setInterval","interval","title","style","textAlign","class","height","width","maxWidth","map","date","day","toLocaleDateString","from","createdAt","to","emptyColor","colors","margin","top","right","bottom","left","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","legends","anchor","direction","translateY","itemCount","itemWidth","itemHeight","itemsSpacing","itemDirection","Habits","habits","get","userId","index","updated","key","Dashboard","HabitForm","bigState","res","success","redirect","console","log","htmlFor","defaultValue","AddHabit","history","push","App","loggedIn","loggedInUser","loggedOutUser","logoutUser","userLoggedIn","error","componentDidMount","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.77029430.chunk.js","sourcesContent":["import React from 'react';\r\nimport Axios from 'axios';\r\n\r\nexport default class RegisterForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        Axios.post('/api/v1/users/register', this.state)\r\n            .then(() => {\r\n                alert('You can now login')\r\n            })\r\n            .catch((err) => {\r\n                alert(err.response.data.message)\r\n                }\r\n            )\r\n        event.preventDefault();\r\n       \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.handleSubmit} className=\"landingForm\">\r\n                <label>\r\n                    Username:\r\n            <input type=\"text\" name='username' value={this.state.value} onChange={this.handleChange} minLength={3} maxLength={20} required />\r\n                </label>\r\n                {}\r\n                <br />\r\n                <label>\r\n                    Password:\r\n            <input type=\"password\" name='password' value={this.state.value} onChange={this.handleChange} minLength={6} maxLength={15} required />\r\n                </label>\r\n                <br />\r\n                <input className=\"submitBtn\" type=\"submit\" value=\"Register\" />\r\n            </form>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Axios from 'axios';\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        Axios.post('/api/v1/users/login', this.state)\r\n            .then(() =>  this.props.getUserData())\r\n            .catch((err) => err.response.data.message? alert(err.response.data.message) : alert('something went wrong'))\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.handleSubmit} className=\"landingForm\">\r\n                <label>\r\n                    Username:\r\n            <input type=\"text\" name='username' value={this.state.value} onChange={this.handleChange} required/>\r\n                </label>\r\n                <br />\r\n                <label>\r\n                    Password:\r\n            <input type=\"password\" name='password' value={this.state.value} onChange={this.handleChange} required/>\r\n                </label>\r\n                <br />\r\n                <input className=\"submitBtn\" type=\"submit\" value=\"Login\" />\r\n            </form>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport RegisterForm from '../components/RegisterForm'\r\nimport Login from '../components/Login'\r\n\r\nexport default class LandingPage extends Component {\r\n    state = {\r\n        new: false,\r\n        existing: false\r\n    }\r\n    clicker (e) {\r\n        this.setState({[e.target.id]: true})\r\n    }\r\n    render() {\r\n        return (\r\n        <div className=\"LandingPage\">\r\n            <h1 className=\"siteHeading\">Habit.</h1>\r\n            <div className=\"rightCol\">\r\n            {!this.state.new && <button id=\"new\" onClick={(e)=>this.clicker(e)}>New User?</button>}\r\n            {this.state.new && \r\n            <div className=\"new\">\r\n            <h3>Register</h3>\r\n            <RegisterForm />\r\n            </div>}\r\n            {!this.state.existing && <button id=\"existing\" onClick={(e)=>this.clicker(e)}>Existing User?</button>}\r\n            {this.state.existing &&\r\n            <div className=\"existing\">\r\n            <h3>Login</h3>\r\n            <Login getUserData={this.props.getUserData} />\r\n            </div>}\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n","import React, {\r\n    Component\r\n} from 'react'\r\nimport Axios from 'axios';\r\nimport './Habit.css'\r\nimport { ResponsiveCalendar } from '@nivo/calendar'\r\n\r\nexport default class Habit extends Component {\r\n    state = {\r\n        clicked: false,\r\n        clickable: false,\r\n        startDate: new Date(),\r\n        min_diff: 0\r\n    }\r\n\r\n    delete = () => {\r\n        Axios.delete(`/api/v1/habits/${this.props.habit._id}`)\r\n            .then(() => this.props.getAllHabits())\r\n    }\r\n\r\n    calcMinDiff = () => {\r\n        const dt1 = new Date(this.props.habit.dateChecked[this.props.habit.dateChecked.length -1]);\r\n        const dt2 = new Date();\r\n        const min_diff = Math.floor(Date.UTC(dt2.getFullYear(), dt2.getMonth(), dt2.getDate(), dt2.getHours(), dt2.getMinutes(), dt2.getSeconds()) - Date.UTC(dt1.getFullYear(), dt1.getMonth(), dt1.getDate(),dt1.getHours(), dt1.getMinutes(), dt1.getSeconds()) )/ (1000*60 );\r\n        this.setState({min_diff: min_diff})\r\n    }\r\n \r\n    date_diff_indays = () => {\r\n    // 1440 minutes in a day\r\n    if(this.props.habit.frequency === 'Daily') {\r\n        if(this.state.min_diff > 1440 ){\r\n            this.setState({\r\n            clicked: false,\r\n            clickable: true\r\n        }) }\r\n    }\r\n    // 10080 minutes in a week\r\n    if(this.props.habit.frequency === 'Weekly') {\r\n        this.state.min_diff > 10080 && this.setState({\r\n            clicked: false,\r\n            clickable: true\r\n        })\r\n    }\r\n    // 43800 in a month\r\n    if(this.props.habit.frequency === 'Monthly') {\r\n        this.state.min_diff > 43800 && this.setState({\r\n            clicked: false,\r\n            clickable: true\r\n        })\r\n    }}\r\n    strikethrough = () => {\r\n        this.setState({\r\n            clicked: true, clickable: false \r\n        }, () =>{\r\n        Axios.put(`/api/v1/habits/${this.props.habit._id}`, {streak: this.props.habit.streak})\r\n        .then(() => {this.props.getAllHabits()\r\n        })\r\n        .catch(() => this.setState({\r\n            clicked: false, clickable: true \r\n        }) )})\r\n    }\r\n    checkStreak = () => {\r\n        // 1440 minutes in a day\r\n    if(this.props.habit.frequency === 'Daily') {\r\n        if(this.state.min_diff > 1440*2 ){\r\n            Axios.put(`/api/v1/habits/streak/${this.props.habit._id}`)\r\n        }\r\n    }\r\n    // 10080 minutes in a week\r\n    if(this.props.habit.frequency === 'Weekly') {\r\n        this.state.min_diff > 10080*2 && Axios.put(`/api/v1/streak/${this.props.habit._id}`)\r\n    }\r\n    // 43800 in a month\r\n    if(this.props.habit.frequency === 'Monthly') {\r\n        this.state.min_diff > 43800*2 && Axios.put(`/api/v1/streak/${this.props.habit._id}`)\r\n    }\r\n}\r\n   \r\n    \r\n\r\n    componentDidMount() {\r\n        setInterval(() => this.calcMinDiff(), 1000);\r\n        setInterval(() => this.checkStreak(), 1000);\r\n        if(this.props.habit.dateChecked.length !== 0){\r\n        this.interval = setInterval(() => this.date_diff_indays(), 1000);\r\n        } else {\r\n            this.setState({\r\n                clicked: false,\r\n                clickable: true\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return ( <div className=\"Habit\">\r\n                    <h3 className = {`${!this.state.clickable} habitName`}> {this.props.habit.title} </h3>\r\n                    <hr />\r\n                     {!this.state.clickable && <p style={{textAlign: \"center\"}}>habit was done. come back {this.props.habit.frequency} to mark complete again!</p>}\r\n                    <button className = {`checked${this.state.clickable}`} onClick = {() => this.strikethrough()} id = \"props.habit._id\" ><i class=\"fas fa-check-circle\"></i> mark complete?\r\n                    </ button> \r\n                    <div className = \"habitDetails\">\r\n                    <h4>{this.props.habit.frequency} habit </h4>\r\n                    <p> <i class=\"fas fa-star\"></i> Current Streak {this.props.habit.streak}</p>\r\n                    </div>\r\n                    <p className=\"legend\">Days habit was done</p>\r\n      <div style={{height:\"200px\", width:\"100%\", maxWidth:\"600px\"}}>\r\n                    <ResponsiveCalendar\r\n        data={this.props.habit.dateChecked.map(date => {\r\n            let utcDate = new Date(date)\r\n            let dateStr =  utcDate.toLocaleDateString(\"sv-SE\")\r\n            return{\r\n               day:dateStr, value: 100\r\n             }\r\n           })}\r\n        from={this.props.habit.createdAt}\r\n        to={this.state.startDate}\r\n        emptyColor=\"#eeeeee\"\r\n        colors={['#C84630','#5DA271']}\r\n        margin={{ top: 40, right: 40, bottom: 40, left: 40 }}\r\n        yearSpacing={40}\r\n        monthBorderColor=\"#ffffff\"\r\n        dayBorderWidth={2}\r\n        dayBorderColor=\"#ffffff\"\r\n        legends={[\r\n            {\r\n                anchor: 'bottom-right',\r\n                direction: 'row',\r\n                translateY: 36,\r\n                itemCount: 1,\r\n                itemWidth: 42,\r\n                itemHeight: 36,\r\n                itemsSpacing: 14,\r\n                itemDirection: 'right-to-left'\r\n            }\r\n        ]}\r\n    />\r\n    </div>\r\n    <button className = \"deleteBtn\" name = \"delete\" id = \"props.habit._id\" onClick = {this.delete } > Delete habit </button>\r\n             </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\n// import { get } from 'mongoose'\r\nimport Axios from 'axios'\r\nimport Habit from '../components/Habit'\r\nexport default class Habits extends Component {\r\n    state = {\r\n        habits: [],\r\n        // updated: false\r\n    }\r\n    getAllHabits = () => {\r\n        Axios.get(`/api/v1/habits/${this.props.userId}`)\r\n            .then(response => {\r\n                this.setState({ habits: response.data })\r\n            })\r\n    }\r\n    // uodatertron = () => this.setState({ updated: !this.state.updated })\r\n    componentDidMount() {\r\n        this.getAllHabits()\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.habits.map((habit, index) => {\r\n                    return <Habit state={this.state.updated} habit={habit} \r\n                   getAllHabits={this.getAllHabits} key={index} />\r\n                })}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Habits from './Habits'\r\n\r\nexport default function Dashboard(props) {\r\n    return (\r\n        <div className=\"dashBoard\">\r\n            <h1 className=\"dashHeading\">{props.username}`s Habits</h1>\r\n            <Habits userId={props.userId}/>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Axios from 'axios';\r\n\r\nexport default class HabitForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            frequency: 'Daily',\r\n            userId: this.props.bigState.userId\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    handleSubmit(event) {\r\n        Axios.post('/api/v1/habits', this.state)\r\n            .then((res) => {\r\n                if (res.data.success) {\r\n                    alert(res.data.message)\r\n                    this.props.redirect()\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            }\r\n            )\r\n        event.preventDefault();\r\n    }\r\n    render() {\r\n        return (\r\n            \r\n            <form className=\"habitForm\" onSubmit={this.handleSubmit}>\r\n                <label htmlFor=\"title\">\r\n                    My new habit will be called:  \r\n            <input type=\"text\" name='title' value={this.state.value} onChange={this.handleChange} minLength={3} maxLength={25} required />\r\n                </label>\r\n                <br />\r\n                <label htmlFor=\"frequency\">\r\n                    I want to complete this habit:  \r\n                <select name=\"frequency\" id=\"frequency\" onChange={this.handleChange}  defaultValue=\"Daily\">\r\n                    <option value=\"Daily\">Daily</option>\r\n                    <option value=\"Weekly\">Weekly</option>\r\n                    <option value=\"Monthly\">Monthly</option>\r\n                </select>\r\n                </label>\r\n                <br />\r\n                <input className=\"submitBtn\" type=\"submit\" value=\"Add Habit\" />\r\n            </form>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport HabitForm from '../components/HabitForm';\r\n\r\n\r\n\r\nexport default function AddHabit(props) {\r\n\r\n    let redirectToDash = () => {\r\n        const { history } = props;\r\n        if (history) history.push('/dash');\r\n    }\r\n    return (\r\n        <div className=\"addHabit\">\r\n            <div className=\"habitDiv\">\r\n            <h1 style={{textAlign: \"center\"}}>Add Habit</h1>\r\n            <HabitForm bigState={props.bigState} redirect={redirectToDash} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from \"react\";\r\nimport LandingPage from './containers/LandingPage';\r\nimport Dashboard from './containers/Dashboard';\r\nimport AddHabit from './containers/AddHabit';\r\nimport './App.css'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nexport default class App extends Component {\r\n  state = {\r\n    loggedIn: false,\r\n    userId: '',\r\n    username: ''\r\n  }\r\n\r\n  loggedInUser = (userId, username) => {\r\n    this.setState({ loggedIn: true, userId: userId, username: username })\r\n  }\r\n\r\n  loggedOutUser = () => { \r\n    this.setState({ loggedIn: false, userId: '', username: ''}) \r\n}\r\n\r\nlogoutUser = () => {\r\n  Axios.post(\"/api/v1/users/logout\")\r\n  .then(() => this.loggedOutUser())\r\n}\r\n\r\ngetUserData = () => {\r\n  Axios.get(\"/api/v1/users\")\r\n  .then((res) => res.data.userLoggedIn && this.loggedInUser(res.data._id, res.data.username))\r\n  .catch((err) => console.error(err))\r\n} \r\n\r\ncomponentDidMount = () => {\r\n  this.getUserData()\r\n}\r\n\r\n  render() {\r\n    return (<Router>\r\n      <div className=\"App\">\r\n        <nav>\r\n          <ul>\r\n            {this.state.loggedIn &&\r\n              <div className=\"nav\">\r\n                <li>\r\n                  <Link to=\"/dash\">Dashboard</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/addHabit\">Add Habit</Link>\r\n                </li>\r\n                <li>\r\n                  <Link onClick={()=>this.logoutUser()} to=\"/\">Logout</Link>\r\n                </li>\r\n              </div>\r\n            }\r\n          </ul>\r\n        </nav>\r\n        \r\n        <Switch>\r\n\r\n          {this.state.loggedIn && <Route path=\"/dash\" render={\r\n            (props) => <Dashboard {...props} userId={this.state.userId} username={this.state.username} />\r\n          } />}\r\n          {this.state.loggedIn && <Route path=\"/addHabit\" render={(props) => <AddHabit {...props} bigState={this.state} />}\r\n          />}\r\n          <Route path=\"/\">\r\n            {this.state.loggedIn ? <Redirect to=\"/dash\" /> : <LandingPage getUserData={this.getUserData} />}\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}